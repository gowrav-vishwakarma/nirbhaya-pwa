import{z as B,I as D,r as h,B as z,F as w,D as q,R as C,S as a,V as s,T as t,ap as f,X as o,U as l,aG as H,al as v,ar as L,E as U,au as E,at as P,Y as b,af as _,aj as n,W as g,ai as i,$ as d,ao as N,an as F,aI as J,ag as S,aJ as j,a3 as A,aq as Q}from"./index.168e4218.js";import{_ as G}from"./LanguageSelector.45b6e4ae.js";const M={class:"column items-center q-pa-md"},O={class:"q-ma-none"},R={class:"q-ma-none q-my-lg"},W={style:{"margin-top":"-40px"},class:"text-h6 q-ma-none q-mb-sm"},X={class:"text-bold"},Y={style:{"margin-top":"-20px"},class:"text-h5 q-mb-md"},K={class:"text-body1 q-mb-md"},Z={class:"row q-col-gutter-md"},tt={class:"col-12 col-sm-6"},at=["href"],et={class:"col-12 col-sm-6"},lt=["href"],st={class:"col-12 col-sm-6"},ot=["href"],nt={class:"col-12 col-sm-6"},it=["href"],ut={class:"col-12 col-sm-6"},mt=["href"],ct={class:"text-h6"},ft=B({__name:"CommunityPage",setup(dt){const{t:e}=D(),x=h([]),y=h(!1),p=h(null),c=h({topic:"",content:""}),V=[{label:e("community.suggestionTopics.app_feature"),value:"app_feature"},{label:e("community.suggestionTopics.safety_tip"),value:"safety_tip"},{label:e("community.suggestionTopics.community_improvement"),value:"community_improvement"},{label:e("community.suggestionTopics.other"),value:"other"}];z(async()=>{await k()});async function k(){try{const u=await w.get("/suggestions");x.value=u.data}catch(u){console.error("Error fetching suggestions:",u)}}function T(){p.value=null,c.value={topic:"",content:""},y.value=!0}function I(u){p.value=u,c.value={...u},y.value=!0}async function $(){try{p.value?await w.put(`/suggestions/${p.value.id}`,c.value):await w.post("/suggestions",c.value),await k()}catch(u){console.error("Error saving suggestion:",u)}}return(u,r)=>(q(),C(A,{class:"flex flex-center"},{default:a(()=>[s("div",M,[t(f,{class:"q-pa-none q-ma-none q-mb-sm",style:{"max-width":"600px",width:"100%"}},{default:a(()=>[t(G)]),_:1}),t(H,{class:"bg-primary text-white"},{default:a(()=>[s("h4",null,o(l(e)("community.offerTitle")),1),s("h6",O,o(l(e)("community.offerSubtitle")),1),s("h6",R,o(l(e)("community.offerDescription")),1)]),_:1}),t(f,{class:"q-pa-lg q-mt-md",style:{"max-width":"600px",width:"100%"}},{default:a(()=>[t(f,{class:"q-mt-md q-pa-none",style:{"max-width":"600px",width:"100%"}},{default:a(()=>[t(v,null,{default:a(()=>[s("h2",W,o(l(e)("community.suggestions")),1),t(L,null,{default:a(()=>[(q(!0),U(P,null,E(x.value,m=>(q(),C(_,{key:m.id},{default:a(()=>[t(n,null,{default:a(()=>[t(i,null,{default:a(()=>[d(o(u.$t("community.suggestionTopics."+m.topic)),1)]),_:2},1024),t(i,{caption:""},{default:a(()=>[d(o(m.content),1)]),_:2},1024)]),_:2},1024),t(n,{side:""},{default:a(()=>[t(b,{flat:"",round:"",icon:"edit",onClick:rt=>I(m)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(b,{style:{width:"100%"},class:"commulity-bg-color q-mt-md",onClick:T,disable:x.value.length>=5},{default:a(()=>[s("span",X,o(l(e)("community.addSuggestion")),1)]),_:1},8,["disable"])]),_:1})]),_:1})]),_:1}),t(f,{class:"q-pa-lg q-mt-md",style:{"max-width":"600px",width:"100%"}},{default:a(()=>[t(v,null,{default:a(()=>[s("h2",Y,o(l(e)("community.stayConnected")),1),s("p",K,o(l(e)("community.stayUpdated")),1),s("div",Z,[s("div",tt,[t(_,null,{default:a(()=>[t(n,{avatar:""},{default:a(()=>[t(g,{name:"mdi-whatsapp",class:"color-primary",size:"sm"})]),_:1}),t(n,null,{default:a(()=>[t(i,null,{default:a(()=>[d(o(l(e)("community.whatsapp")),1)]),_:1}),t(i,{caption:""},{default:a(()=>[s("a",{href:l(e)("community.whatsappLink"),target:"_blank",class:"text-primary"},"Click To Join",8,at)]),_:1})]),_:1})]),_:1})]),s("div",et,[t(_,null,{default:a(()=>[t(n,{avatar:""},{default:a(()=>[t(g,{name:"mdi-instagram",class:"color-primary",size:"sm"})]),_:1}),t(n,null,{default:a(()=>[t(i,null,{default:a(()=>[d(o(l(e)("community.instagram")),1)]),_:1}),t(i,{caption:""},{default:a(()=>[s("a",{href:`https://instagram.com/${l(e)("community.instagramHandle")}`,class:"text-primary",target:"_blank"},o(l(e)("community.instagramHandle")),9,lt)]),_:1})]),_:1})]),_:1})]),s("div",st,[t(_,null,{default:a(()=>[t(n,{avatar:""},{default:a(()=>[t(g,{name:"mdi-twitter",class:"color-primary",size:"sm"})]),_:1}),t(n,null,{default:a(()=>[t(i,null,{default:a(()=>[d(o(l(e)("community.twitter")),1)]),_:1}),t(i,{caption:""},{default:a(()=>[s("a",{href:`https://twitter.com/${l(e)("community.twitterHandle")}`,class:"text-primary",target:"_blank"},o(l(e)("community.twitterHandle")),9,ot)]),_:1})]),_:1})]),_:1})]),s("div",nt,[t(_,null,{default:a(()=>[t(n,{avatar:""},{default:a(()=>[t(g,{name:"mdi-youtube",class:"color-primary",size:"sm"})]),_:1}),t(n,null,{default:a(()=>[t(i,null,{default:a(()=>[d(o(l(e)("community.youtube")),1)]),_:1}),t(i,{caption:""},{default:a(()=>[s("a",{href:`https://youtube.com/@${l(e)("community.youtubeHandle")}`,class:"text-primary",target:"_blank"},"@"+o(l(e)("community.youtubeHandle")),9,it)]),_:1})]),_:1})]),_:1})]),s("div",ut,[t(_,null,{default:a(()=>[t(n,{avatar:""},{default:a(()=>[t(g,{name:"mdi-account-group",class:"color-primary",size:"sm"})]),_:1}),t(n,null,{default:a(()=>[t(i,null,{default:a(()=>[d(o(l(e)("community.telegram")),1)]),_:1}),t(i,{caption:""},{default:a(()=>[s("a",{href:l(e)("community.telegramLink"),class:"text-primary",target:"_blank"},"sosbharatcommunity",8,mt)]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})]),t(j,{modelValue:y.value,"onUpdate:modelValue":r[2]||(r[2]=m=>y.value=m)},{default:a(()=>[t(f,{style:{"min-width":"350px"}},{default:a(()=>[t(v,null,{default:a(()=>[s("div",ct,o(p.value?l(e)("community.editSuggestion"):l(e)("community.addSuggestion")),1)]),_:1}),t(v,{class:"q-pt-none"},{default:a(()=>[t(N,{modelValue:c.value.topic,"onUpdate:modelValue":r[0]||(r[0]=m=>c.value.topic=m),options:V,label:l(e)("community.suggestionTopic"),"emit-value":"","map-options":""},null,8,["modelValue","label"]),t(F,{modelValue:c.value.content,"onUpdate:modelValue":r[1]||(r[1]=m=>c.value.content=m),label:l(e)("community.suggestionContent"),type:"textarea"},null,8,["modelValue","label"])]),_:1}),t(J,{align:"right"},{default:a(()=>[S(t(b,{flat:"",label:l(e)("common.cancel"),color:"primary"},null,8,["label"]),[[Q]]),S(t(b,{flat:"",label:l(e)("common.save"),color:"primary",onClick:$},null,8,["label"]),[[Q]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}});export{ft as default};
