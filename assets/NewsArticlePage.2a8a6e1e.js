import{G as N,z as S,H as C,bn as k,r as v,B as T,M as B,D as _,R as I,S as c,V as s,az as h,E as p,au as P,at as A,T as n,Y as g,X as r,a3 as Q,ap as W,aN as q,al as f}from"./index.168e4218.js";const D={class:"absolute-bottom text-subtitle2 text-white bg-transparent"},L={class:"text-h4"},z={class:"text-subtitle1 text-grey q-mt-sm"},E={class:"text-body1"},M={class:"navigation-indicators q-pa-md"},R={class:"text-caption q-mx-sm"},V=S({__name:"NewsArticlePage",setup($){const u=C(),m=k(),t=v(null),l=v([]),e=v(0);T(async()=>{try{const o=localStorage.getItem("currentArticle");if(o){const i=JSON.parse(o);l.value=i.allNews||[],e.value=parseInt(m.params.id)||0,console.log("Loaded articles:",l.value.length),console.log("Current index:",e.value),await B(),t.value&&(t.value.scrollLeft=e.value*t.value.clientWidth)}else console.log("No saved data found"),u.push({name:"news"})}catch(o){console.error("Error loading article:",o),u.push({name:"news"})}});const x=()=>{e.value>0&&t.value&&(e.value--,t.value.scrollTo({left:e.value*t.value.clientWidth,behavior:"smooth"}))},w=()=>{e.value<l.value.length-1&&t.value&&(e.value++,t.value.scrollTo({left:e.value*t.value.clientWidth,behavior:"smooth"}))};let d=null;const b=()=>{d!==null&&window.clearTimeout(d),d=window.setTimeout(()=>{if(!t.value)return;const o=t.value.scrollLeft,i=t.value.clientWidth,a=Math.round(o/i);a!==e.value&&a>=0&&a<l.value.length&&(e.value=a,u.replace({name:"news-article",params:{id:a.toString()}}))},150)};return(o,i)=>(_(),I(Q,{class:"article-page"},{default:c(()=>[s("div",{class:"articles-scroll-container",ref_key:"scrollContainer",ref:t,onScroll:b},[s("div",{class:"articles-scroll-wrapper",style:h({width:`${l.value.length*100}%`})},[(_(!0),p(A,null,P(l.value,(a,y)=>(_(),p("div",{key:y,class:"article-section",style:h({width:`${100/l.value.length}%`})},[n(W,{flat:"",class:"article-card"},{default:c(()=>[n(q,{src:a.image,height:"400px",class:"rounded-borders"},{default:c(()=>[s("div",D,r(a.date),1)]),_:2},1032,["src"]),n(f,null,{default:c(()=>[s("div",L,r(a.title),1),s("div",z,"By "+r(a.author),1)]),_:2},1024),n(f,{class:"q-pt-none",style:{"padding-bottom":"100px"}},{default:c(()=>[s("div",E,r(a.content),1)]),_:2},1024)]),_:2},1024)],4))),128))],4)],544),s("div",M,[n(g,{round:"",flat:"",color:"primary",icon:"chevron_left",onClick:x,disable:e.value===0},null,8,["disable"]),s("div",R,r(e.value+1)+" / "+r(l.value.length),1),n(g,{round:"",flat:"",color:"primary",icon:"chevron_right",onClick:w,disable:e.value===l.value.length-1},null,8,["disable"])])]),_:1}))}});var G=N(V,[["__scopeId","data-v-3dbd3420"]]);export{G as default};
