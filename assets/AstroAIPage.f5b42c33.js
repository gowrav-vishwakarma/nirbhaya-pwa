import{z as A,D as d,R as T,S as o,T as t,V as e,ap as g,al as y,G as P,e as E,E as x,X as w,at as q,au as B,r as p,B as D,bV as F,an as S,ao as z,U as Q,aI as j,Y as L,a0 as Y,bW as k,bX as K,ae as Z,bY as G,a3 as O}from"./index.168e4218.js";import{astroApi as R}from"./astroaxios.3db8d7c1.js";const X={class:"row q-col-gutter-md"},J={class:"col-12 col-md-6"},W=A({__name:"TodayComponent",setup(V){return(l,a)=>(d(),T(g,{flat:"",class:"bg-white"},{default:o(()=>[t(y,null,{default:o(()=>[a[1]||(a[1]=e("div",{class:"text-h6 text-weight-bold text-primary q-mb-md"}," Today's Overview ",-1)),e("div",X,[e("div",J,[t(g,{class:"overview-card"},{default:o(()=>[t(y,null,{default:o(()=>a[0]||(a[0]=[e("div",{class:"text-subtitle2 text-weight-medium"}," Daily Horoscope ",-1)])),_:1})]),_:1})])])]),_:1})]),_:1}))}});var ee=P(W,[["__scopeId","data-v-02585903"]]);const te=["UTC","Asia/Kolkata","America/New_York","Europe/London","Asia/Tokyo"];const ae={class:"indian-birth-chart"},oe={class:"chart-info"},se={key:0,class:"chart-grid"},ne={class:"house-header"},le={class:"house-number"},re={class:"house-sign"},ie={class:"planets"},ue={class:"planet-symbol"},de={class:"planet-name"},_e={class:"planet-position"},ce={key:1,class:"error-message"},pe=A({__name:"IndianBirthChart",props:{birthChart:{}},setup(V){const l=V,a=["Ari","Tau","Gem","Can","Leo","Vir","Lib","Sco","Sag","Cap","Aqu","Pis"],C={Sun:"\u2609",Moon:"\u263D",Mercury:"\u263F",Venus:"\u2640",Mars:"\u2642",Jupiter:"\u2643",Saturn:"\u2644",Uranus:"\u2645",Neptune:"\u2646",Pluto:"\u2647",Mean_node:"\u260A",True_node:"\u260B"},c=E(()=>{const i=l.birthChart.Moon;return!i||!i.house?1:{First_House:1,Second_House:2,Third_House:3,Fourth_House:4,Fifth_House:5,Sixth_House:6,Seventh_House:7,Eighth_House:8,Ninth_House:9,Tenth_House:10,Eleventh_House:11,Twelfth_House:12}[i.house]||1}),v=E(()=>l.birthChart?Array.from({length:12},(i,u)=>{const r=`${["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth","Tenth","Eleventh","Twelfth"][u]}_house`,s=l.birthChart[r],I=h(`${r}`);return{originalNumber:u+1,adjustedNumber:(u-c.value+1+12)%12+1,sign:s?a[s.sign_num]:"Unknown",planets:I}}):[]);function h(i){const u=i.replace("_house","_House");return Object.entries(l.birthChart).filter(([r,s])=>typeof s=="object"&&"house"in s&&s.house===u&&r!=="aspects"&&!r.includes("_house")).map(([r,s])=>({name:r,symbol:C[r]||r,position:s.position.toFixed(0),retrograde:s.retrograde}))}const b=E(()=>{const i=l.birthChart.Moon;return i?a[i.sign_num]:"Unknown"});return(i,u)=>(d(),x("div",ae,[u[0]||(u[0]=e("h2",null,"North Indian Birth Chart (Moon-based House Numbering)",-1)),e("div",oe,[e("p",null,"Moon Sign: "+w(b.value),1)]),v.value.length?(d(),x("div",se,[(d(!0),x(q,null,B(v.value,r=>(d(),x("div",{key:r.originalNumber,class:"house"},[e("div",ne,[e("span",le,w(r.adjustedNumber),1),e("span",re,w(r.sign),1)]),e("div",ie,[(d(!0),x(q,null,B(r.planets,s=>(d(),x("div",{key:s.name,class:"planet"},[e("span",ue,w(s.symbol),1),e("span",de,w(s.name),1),e("span",_e,w(s.position)+"\xB0"+w(s.retrograde?"R":""),1)]))),128))])]))),128))])):(d(),x("div",ce,"No birth chart data available."))]))}});var me=P(pe,[["__scopeId","data-v-4a762c41"]]);const ve={class:"row q-col-gutter-md"},he={class:"col-12"},be={key:0,class:"col-12"},fe=A({__name:"ProfileComponent",setup(V){const l=p(""),a=p(""),C=p(""),c=p(""),v=p(""),h=p(0),b=p(0),i=p(null),u=p("UTC"),r=p(null);let s,I;D(async()=>{var N,U;try{const f=(await R.get("/auth/profile")).data;l.value=f.name||"",a.value=f.email||"",C.value=f.birth_date||"",c.value=f.birth_time||"",v.value=f.birth_place||"",h.value=((N=f.birth_location)==null?void 0:N.latitude)||0,b.value=((U=f.birth_location)==null?void 0:U.longitude)||0,i.value=f.birth_chart,u.value=f.timezone||"UTC"}catch($){console.error("Error loading profile:",$)}const n=await new F({apiKey:"AIzaSyApE3j5TVEpL9IZf33Vyuh5V-yF3ZNZccs",version:"weekly"}).load(),{Map:_}=await n.maps.importLibrary("maps");s=new _(r.value,{center:{lat:h.value||0,lng:b.value||0},zoom:h.value&&b.value?8:2}),s.addListener("click",$=>{H($.latLng)}),h.value&&b.value&&H(new n.maps.LatLng(h.value,b.value))});const H=m=>{I?I.setPosition(m):I=new google.maps.Marker({position:m,map:s}),h.value=m.lat(),b.value=m.lng()},M=async()=>{try{const m=await api.put("/auth/profile",{name:l.value,email:a.value,birth_date:C.value,birth_time:c.value.split(":").slice(0,2).join(":")+":00",birth_place:v.value,birth_location:{latitude:h.value,longitude:b.value},timezone:u.value});i.value=m.data.birth_chart}catch(m){console.error("Error updating profile:",m)}};return(m,n)=>(d(),T(g,{flat:"",class:"bg-white"},{default:o(()=>[t(y,null,{default:o(()=>[n[7]||(n[7]=e("div",{class:"text-h6 text-weight-bold text-primary q-mb-md"}," Astrological Profile ",-1)),e("div",ve,[e("div",he,[t(g,{class:"profile-card"},{default:o(()=>[t(y,null,{default:o(()=>[t(S,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=_=>l.value=_),label:"Name"},null,8,["modelValue"]),t(S,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=_=>a.value=_),label:"Email",type:"email"},null,8,["modelValue"]),t(S,{modelValue:C.value,"onUpdate:modelValue":n[2]||(n[2]=_=>C.value=_),label:"Birth Date",type:"date"},null,8,["modelValue"]),t(S,{modelValue:c.value,"onUpdate:modelValue":n[3]||(n[3]=_=>c.value=_),label:"Birth Time",type:"time"},null,8,["modelValue"]),t(z,{modelValue:u.value,"onUpdate:modelValue":n[4]||(n[4]=_=>u.value=_),options:Q(te),label:"Timezone"},null,8,["modelValue","options"]),t(S,{modelValue:v.value,"onUpdate:modelValue":n[5]||(n[5]=_=>v.value=_),label:"Birth Place"},null,8,["modelValue"]),e("div",{ref_key:"mapContainer",ref:r,style:{height:"400px",width:"100%","margin-top":"20px"}},null,512),n[6]||(n[6]=e("div",{class:"text-caption q-mt-sm"}," Click on the map to update your birth location ",-1))]),_:1}),t(j,{align:"right"},{default:o(()=>[t(L,{label:"Update Profile",color:"primary",onClick:M})]),_:1})]),_:1})]),i.value?(d(),x("div",be,[t(g,{class:"profile-card"},{default:o(()=>[t(y,null,{default:o(()=>[t(me,{birthChart:i.value},null,8,["birthChart"])]),_:1})]),_:1})])):Y("",!0)])]),_:1})]),_:1}))}});var ge=P(fe,[["__scopeId","data-v-22ceaa82"]]);const ye={class:"row q-col-gutter-md"},xe={class:"col-12"},Ce=A({__name:"EventsComponent",setup(V){return(l,a)=>(d(),T(g,{flat:"",class:"bg-white"},{default:o(()=>[t(y,null,{default:o(()=>[a[1]||(a[1]=e("div",{class:"text-h6 text-weight-bold text-primary q-mb-md"}," Astrological Events ",-1)),e("div",ye,[e("div",xe,[t(g,{class:"events-card"},{default:o(()=>[t(y,null,{default:o(()=>a[0]||(a[0]=[e("div",{class:"text-subtitle2 text-weight-medium"}," Upcoming Events ",-1)])),_:1})]),_:1})])])]),_:1})]),_:1}))}});var we=P(Ce,[["__scopeId","data-v-070f5484"]]);const Ve={class:"row q-col-gutter-md"},Te={class:"col-12"},Ae=A({__name:"PredictionComponent",setup(V){return(l,a)=>(d(),T(g,{flat:"",class:"bg-white"},{default:o(()=>[t(y,null,{default:o(()=>[a[1]||(a[1]=e("div",{class:"text-h6 text-weight-bold text-primary q-mb-md"}," Predictions ",-1)),e("div",Ve,[e("div",Te,[t(g,{class:"prediction-card"},{default:o(()=>[t(y,null,{default:o(()=>a[0]||(a[0]=[e("div",{class:"text-subtitle2 text-weight-medium"}," Future Insights ",-1)])),_:1})]),_:1})])])]),_:1})]),_:1}))}});var Pe=P(Ae,[["__scopeId","data-v-3f7ef34e"]]);const Ie={class:"container"},Se={class:"q-px-md"},$e={class:"q-pa-md"},ke=A({__name:"AstroAIPage",setup(V){const l=p("today"),a=E(()=>{switch(l.value){case"profile":return ge;case"events":return we;case"prediction":return Pe;default:return ee}});return(C,c)=>(d(),T(O,{class:"bg-grey-1",style:{"padding-top":"env(safe-area-inset-top)","padding-bottom":"env(safe-area-inset-bottom)"}},{default:o(()=>[e("div",Ie,[c[1]||(c[1]=e("div",{class:"row items-center justify-between q-pa-md"},[e("div",null,[e("h4",{class:"text-h5 text-weight-bold q-my-none text-primary"}," AstroAI "),e("p",{class:"text-grey-7 q-mt-sm"},"Your Personal Astrology Assistant")])],-1)),e("div",Se,[t(K,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=v=>l.value=v),class:"text-primary","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":"",dense:""},{default:o(()=>[t(k,{name:"today",label:"Today"}),t(k,{name:"profile",label:"Profile"}),t(k,{name:"events",label:"Events"}),t(k,{name:"prediction",label:"Prediction"})]),_:1},8,["modelValue"])]),t(Z),e("div",$e,[(d(),T(G(a.value)))])])]),_:1}))}});var Ne=P(ke,[["__scopeId","data-v-07d1bf14"]]);export{Ne as default};
