import{b as u,a as i,u as n}from"./index.168e4218.js";const r=i.create({baseURL:{}.ASTRO_API_BASE_URL});var c=u(({app:t,store:o,router:a})=>{const s=n(o);r.interceptors.request.use(e=>(s.user&&s.user.token&&(e.headers.Authorization=`Bearer ${s.user.token}`),e)),r.interceptors.response.use(e=>e,e=>(e.response&&e.response.status===401&&(s.logout(),a.push("/login")),Promise.reject(e))),t.config.globalProperties.$astroApi=r});export{r as astroApi,c as default};
